<div class="main-login-container">
  <form
    [formGroup]="loginForm"
    (ngSubmit)="handleLoginSubmit()"
    class="main-login-form"
  >
    <div class="start-shopping-button">
      <button
        mat-raised-button
        color="warn"
        type="button"
        [disabled]="!authService.isLogging()"
        routerLink="/shop"
      >
        Start Shopping
      </button>
    </div>
    <div class="login-input-group">
      <mat-form-field appearance="legacy">
        <mat-label>Email</mat-label>
        <input matInput formControlName="email" />
        <mat-icon matSuffix>account_circle</mat-icon>
        <mat-error
          *ngIf="email?.errors?.required && (email.dirty || email.touched)"
          >Email is require</mat-error
        >
      </mat-form-field>
      <mat-form-field appearance="legacy">
        <mat-label>Password</mat-label>
        <input
          formControlName="password"
          type="password"
          matInput
          [type]="hidePassword ? 'password' : 'text'"
        />
        <button
          mat-icon-button
          matSuffix
          (click)="hidePassword = !hidePassword"
          [attr.aria-label]="'Hide password'"
          [attr.aria-pressed]="hidePassword"
        >
          <mat-icon style="font-size: 22px">{{
            hidePassword ? "visibility_off" : "visibility"
          }}</mat-icon>
        </button>
        <mat-error
          *ngIf="
            password?.errors?.required && (password.dirty || password.touched)
          "
          >Password is require</mat-error
        >
      </mat-form-field>
    </div>
    <div class="login-button-group">
      <button
        mat-raised-button
        type="submit"
        [disabled]="loginForm.invalid"
        color="warn"
      >
        Login
      </button>
      <a routerLink="/register">Sign Up</a>
    </div>
  </form>
</div>
